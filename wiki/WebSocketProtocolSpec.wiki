This is a note by pywebsocket developers for catching up changes on the spec and tracking discussion on !HyBi. This may also be useful for people who are interested in !WebSocket protocol design to quickly catch up the history of discussion on !HyBi and understand what/why/when a certain decision has been made.

= Official working drafts =

== !HyBi 11 ==

  * [http://www.ietf.org/id/draft-ietf-hybi-thewebsocketprotocol-11.txt Spec]
  * [http://tools.ietf.org/rfcdiff?url2=draft-ietf-hybi-thewebsocketprotocol-11 Diff from 10]

=== Change ===

Semantic changes
  * Sec-WebSocket-Origin -> Origin
  * the client can send Sec-WebSocket-Protocol-Client header in the opening handshake
  * the client can send Sec-WebSocket-Version-Client header in the opening handshake
  * the server can send Sec-WebSocket-Protocol-Server header in the opening handshake
  * the server can send Sec-WebSocket-Version-Server header in the opening handshake

Note
  * Sec-WebSocket-Version value is still 8, and 9/10/11 were reserved but were not and will not be used.

== !HyBi 10 ==

  * [http://www.ietf.org/id/draft-ietf-hybi-thewebsocketprotocol-10.txt Spec]
  * [http://tools.ietf.org/rfcdiff?url2=draft-ietf-hybi-thewebsocketprotocol-10 Diff from 09]

=== Change ===

Semantic changes
  * Status code 1007.
  * Receiving strings including invalid UTF-8 result in Fail.

Note
  * Sec-WebSocket-Version value is still 8

== !HyBi 09 ==

  * [http://tools.ietf.org/id/draft-ietf-hybi-thewebsocketprotocol-09.txt Spec]
  * [http://tools.ietf.org/rfcdiff?url2=draft-ietf-hybi-thewebsocketprotocol-09 Diff from 08]

=== Change ===

Semantic changes
  * On receiving a frame with any of RSV1-3 raised but no extension negotiated, Fail the WebSocket Connection.
    * It seems that unknown opcode will also result in Fail in !HyBi 10 (TBD)

Note
  * Sec-WebSocket-Version value is still 8

== !HyBi 08 ==

  * [http://tools.ietf.org/id/draft-ietf-hybi-thewebsocketprotocol-08.txt Spec]
  * [http://tools.ietf.org/rfcdiff?url2=draft-ietf-hybi-thewebsocketprotocol-08 Diff from 07]

Semantic changes
  * Absolute path is now allowed for resource
  * extension parameter is token
  * Sec-WebSocket-Protocol from server to client is token
  * Status code 1005 and 1006 are added, and all codes are unsigned.
  * Internal error results in 1006
  * HTTP fallback status codes are clarified

== !HyBi 07 ==

  * [http://tools.ietf.org/id/draft-ietf-hybi-thewebsocketprotocol-07.txt Spec]
  * [http://tools.ietf.org/rfcdiff?url2=draft-ietf-hybi-thewebsocketprotocol-07 Diff from 06]

== !HyBi 06 ==

  * [http://tools.ietf.org/id/draft-ietf-hybi-thewebsocketprotocol-06.txt Spec]
  * [http://tools.ietf.org/rfcdiff?url2=draft-ietf-hybi-thewebsocketprotocol-06 Diff from 05]

== !HyBi 05 ==

  * [http://tools.ietf.org/id/draft-ietf-hybi-thewebsocketprotocol-05.txt Spec]
  * [http://tools.ietf.org/rfcdiff?url2=draft-ietf-hybi-thewebsocketprotocol-05 Diff from 04]

=== Change ===

Major changes
  * Removed Sec-!WebSocket-Nonce
  * Changed masking : SHA-1, client nonce, server nonce, CSPRNG -> CSPRNG only
  * Specified the body of close frame explicitly
  * ABNF fix for origin and protocol
  * Added detailed Sec-!WebSocket-Extensions format specification

Typos, remanet removal
  * Removed all occurrence of Sec-!WebSocket-Location
  * Added IANA Sec-!WebSocket-Accept section

Trivial changes
  * The value of Sec-!WebSocket-Version is now 5

== !HyBi 04 ==

  * [http://tools.ietf.org/id/draft-ietf-hybi-thewebsocketprotocol-04.txt Spec]

=== Change ===

Major changes
  * Added frame masking
  * Changed opening handshake
    * Sec-!WebSocket-Key1, Sec-!WebSocket-Key2, key3, response -> Sec-!WebSocket-Key, Sec-!WebSocket-Nonce, Sec-!WebSocket-Accept)
  * Added Sec-!WebSocket-Extensions for extension negotiation
  * Upgrade header is now case-insensitive (HTTP compliant)
  * Flipped MORE bit and renamed it to FIN bit

Tiny changes
  * Renamed Sec-!WebSocket-Draft to Sec-!WebSocket-Version
  * Renamed Origin to Sec-!WebSocket-Origin
  * Added ABNF (one used in HTTP RFC2616) clarification to Sec-!WebSocket-Protocol
  * Changed subprotocols separator from SP to ','
  * Removed Sec-!WebSocket-Location

=== Library dependency ===

Introduced
  * BASE64
  * SHA-1

Eliminated
  * MD5

== !HyBi 03 ==

  * [http://tools.ietf.org/id/draft-ietf-hybi-thewebsocketprotocol-03.txt Spec]

=== Change ===

  * Added one known extension "compression"
  * Added close frame body matching step to closing handshake
    * To distinguish close frames among virtual channels in multiplexed connection

=== Library dependency ===

Introduced
  * DEFLATE

=== Note ===

  * The value of Sec-!WebSocket-Draft is still 2

== !HyBi 02 ==

  * [http://tools.ietf.org/id/draft-ietf-hybi-thewebsocketprotocol-02.txt Spec]

=== Change ===

  * Added /defer cookies/ flag
  * Added Sec-!WebSocket-Draft with a value of 2

== !HyBi 01 ==

  * [http://tools.ietf.org/id/draft-ietf-hybi-thewebsocketprotocol-01.txt Spec]

=== Change ===

  * Changed frame format
  * Added extension mechanism (no negotiation yet)

== Hixie 76 (!HyBi 00) ==

  * [http://tools.ietf.org/html/draft-ietf-hybi-thewebsocketprotocol-00 HyBi 00]
  * [http://tools.ietf.org/html/draft-hixie-thewebsocketprotocol-76 Hixie 76]

=== Change ===

  * Added challenge/response handshaking using binary data
  * Added closing handshake

=== Library dependency ===

Introduced
  * MD5

== Hixie 75 ==

  * [http://tools.ietf.org/html/draft-hixie-thewebsocketprotocol-75 Spec]

= Rationale =

Contents placed here has been merged into [http://trac.tools.ietf.org/wg/hybi/trac/wiki/FAQ FAQ on the IETF HyBi WG site].

= Other proposals =

  * http://tools.ietf.org/id/draft-abarth-thewebsocketprotocol-01.txt Opening handshake with CONNECT method, AES based frame masking by Adam Barth
  * http://tools.ietf.org/html/draft-montenegro-hybi-upgrade-hello-handshake-00 Gabriel's proposal
  * http://www.whatwg.org/specs/web-socket-protocol/ Last proposal Hixie published before he took over editor to Ian Fette.

= References/Tools =

  * [http://www.ietf.org/mail-archive/web/hybi/current/maillist.html HyBi mailing list archive]
  * [https://datatracker.ietf.org/doc/draft-ietf-hybi-thewebsocketprotocol/history/ IETF datatracker] Useful for getting side-by-side diff between drafts
  * [http://trac.tools.ietf.org/wg/hybi/trac/log/websocket/draft-ietf-hybi-thewebsocketprotocol.xml Latest draft on IETF Subversion]
  * [http://trac.tools.ietf.org/wg/hybi/trac/wiki/HandshakeProposals Proposal list on HyBi wiki]